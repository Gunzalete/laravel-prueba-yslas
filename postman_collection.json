{
  "info": {
    "name": "Prueba tecnica Laravel - Posts API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Coleccion para probar endpoints de Posts y Comments."
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://127.0.0.1:8000"
    },
    {
      "key": "postId",
      "value": "1"
    }
  ],
  "item": [
    {
      "name": "Posts",
      "item": [
        {
          "name": "Crear post (publicado)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Mi primer post\",\n  \"body\": \"Contenido de prueba con al menos diez caracteres.\",\n  \"status\": \"published\"\n}"
            }
          }
        },
        {
          "name": "Listar posts (con filtros)",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Accept", "value": "application/json" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts?status=published&per_page=5&include_comments=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"],
              "query": [
                { "key": "status", "value": "published" },
                { "key": "per_page", "value": "5" },
                { "key": "include_comments", "value": "true" }
              ]
            }
          }
        },
        {
          "name": "Obtener post por id",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Accept", "value": "application/json" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/{{postId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "{{postId}}"]
            }
          }
        }
        ,
        {
          "name": "Publicar post (cambiar draft->published)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Accept", "value": "application/json" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/{{postId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "{{postId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"published\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "Crear comentario",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept", "value": "application/json" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/{{postId}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", "{{postId}}", "comments"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"author_name\": \"Ana Test\",\n  \"body\": \"Muy buen post\"\n}"
            }
          }
        }
      ]
    }
  ]
}
